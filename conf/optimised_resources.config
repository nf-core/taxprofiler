// Optimised resource config generated by Flow Sightometer
// Memory and time scale with task.attempt for automatic retry handling

profiles {
    optimised {
        process {
        withName: 'BRACKEN_BRACKEN' {
            memory = { 512.MB * task.attempt }
            cpus = 2
            time = { 1.h * task.attempt }
        }
        withName: 'SAMTOOLS_INDEX' {
            memory = { 512.MB * task.attempt }
            cpus = 2
            time = { 1.h * task.attempt }
        }
        withName: 'SAMTOOLS_STATS' {
            memory = { 512.MB * task.attempt }
            cpus = 1
            time = { 2.h * task.attempt }
        }
        withName: 'UNTAR' {
            memory = { 512.MB * task.attempt }
            cpus = 1
            time = { 1.h * task.attempt }
        }
        withName: 'BOWTIE2_BUILD' {
            memory = { 6.GB * task.attempt }
            cpus = 12
            time = { 1.h * task.attempt }
        }
        withName: 'FASTQC' {
            memory = { 12.GB * task.attempt }
            cpus = 6
            time = { 4.h * task.attempt }
        }
        withName: 'BOWTIE2_ALIGN' {
            memory = { 16.GB * task.attempt }
            cpus = 12
            time = { 16.h * task.attempt }
        }
        withName: 'KRAKEN2_KRAKEN2' {
            memory = { 48.GB * task.attempt }
            cpus = 12
            time = { 4.h * task.attempt }
        }
        withName: 'MULTIQC' {
            memory = { 2.GB * task.attempt }
            cpus = 1
            time = { 1.h * task.attempt }
        }
        }
    }
}

